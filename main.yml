###############################################################################
# Description: Entry point to install Docker, Openshift Origin, Gluster, and Heketi
# Author: John Deng ( john.deng@qq.com )
# Last update: 2017-01-29
###############################################################################
# Usage:
# ansible-playbook main.yml --extra-vars "admin_password='you-admin-password' force_install_docker=true ansible_profile=dev"
#
---

- name: Prepare infrastracture
  include: playbook/nodes/config.yml

- name: Install Openshift Origin  
  include: openshift-ansible/playbooks/byo/config.yml

- name: Install client
  include: playbook/client/config-oc.yml
  when: install_client_tool is defined

- name: Install client
  include: playbook/client/config.yml
  when: has_client is defined

- name: Config masters
  include: playbook/masters/config.yml

- name: Install heketi
  include: playbook/storages/config.yml
  when: has_heketi is defined

###############################################################################
# Done    
###############################################################################